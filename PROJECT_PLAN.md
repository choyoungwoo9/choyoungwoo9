# Gitmon - GitHub Profile Petting Zoo Project Plan

## 프로젝트 목표

**"GitHub 프로필에 최근 활동(커밋)에 따라 변화하는 나만의 동물 울타리를 SVG 이미지로 동적 생성하여 보여주는 웹 서비스 개발"**

---

## 개발 계획 (단계별 로드맵)

### **Phase 1: MVP - 핵심 기능 구현 (가장 단순한 버전)**

> **목표:** 먼저 눈에 보이는 결과물을 빠르게 만듭니다. 사용자가 이미지를 요청하면, 울타리에 **무작위 동물 한 마리**를 보여주는 기능을 구현합니다.

1.  **기본 환경 설정**
    *   `Node.js` 와 `Express` (또는 Python Flask/FastAPI)를 사용하여 간단한 웹 서버를 구축합니다.
    *   `package.json` 파일을 생성하고 `express` 같은 초기 라이브러리를 설치합니다.

2.  **SVG 에셋 준비**
    *   **울타리 SVG (`fence.svg`):** 동물들이 들어갈 배경이 되는 울타리 SVG 파일을 만듭니다.
    *   **동물 SVG:** `animal.svg`, `animal2.svg` 외에 몇 가지 동물 SVG 파일을 추가로 준비하여 `animals` 폴더에 저장합니다. (최소 3-4개)

3.  **동적 SVG 생성 API 엔드포인트 개발**
    *   `GET /image` 같은 API 엔드포인트를 만듭니다.
    *   이 엔드포인트가 호출되면:
        *   `animals` 폴더에서 무작위 동물 SVG 파일 하나를 선택합니다.
        *   `fence.svg` 파일과 선택된 동물 SVG 파일을 읽어옵니다.
        *   두 SVG를 하나로 합쳐서 최종 SVG 문자열을 만듭니다. (동물 SVG를 울타리 SVG 안의 특정 좌표에 `<g>` 태그로 삽입)
        *   HTTP 응답의 `Content-Type`을 `image/svg+xml`로 설정하고, 합쳐진 SVG를 반환합니다.

4.  **GitHub README에 적용**
    *   `README.md` 파일에 아래와 같이 마크다운 이미지 태그를 추가하여 API가 잘 작동하는지 확인합니다.
    *   `![My Gitmon](http://<내-서버-주소>/image)`

### **Phase 2: 사용자 활동 연동**

> **목표:** 이제 무작위가 아닌, **사용자의 GitHub 활동**에 따라 동물이 보이거나 보이지 않게 만듭니다.

1.  **GitHub API 연동**
    *   API 엔드포인트를 `GET /image?username=<깃허브-사용자명>` 형태로 변경합니다.
    *   서버에서 GitHub API를 호출하여 해당 사용자의 최근 공개(public) 이벤트를 가져옵니다. (`/users/{username}/events/public`)
    *   GitHub API 요청을 위해 `axios`나 `node-fetch` 같은 라이브러리를 사용합니다. (필요 시 API 인증 토큰 사용)

2.  **활동 체크 로직 구현**
    *   가져온 이벤트 중에서 최근 10일 내에 `PushEvent`(커밋)가 있었는지 확인합니다.
    *   **커밋이 있으면:** Phase 1과 같이 무작위 동물을 보여줍니다.
    *   **커밋이 없으면:** 동물이 없는 빈 울타리 SVG를 보여줍니다.

### **Phase 3: 동물 수집 및 관리 시스템**

> **목표:** 여러 마리의 동물을 수집하고, 매일 상태가 업데이트되는 시스템을 만듭니다.

1.  **데이터베이스 도입**
    *   사용자별 동물 목록을 저장할 간단한 데이터베이스가 필요합니다.
    *   **추천:** 초기에는 복잡한 DB 대신, 서버에 `db.json` 파일을 두고 사용자 데이터를 관리하는 것이 가장 간단합니다.
    *   `db.json` 구조 예시:
        ```json
        {
          "choyoungwoo9": {
            "animals": ["cat.svg", "dog.svg"],
            "last_updated": "2025-08-10"
          },
          "anotherUser": { ... }
        }
        ```

2.  **스케줄러(Scheduler) 구현**
    *   매일 자정(또는 특정 시간)에 실행될 스케줄러를 구현합니다. (`node-cron` 라이브러리 사용 추천)
    *   스케줄러가 할 일:
        *   `db.json`의 모든 사용자를 순회합니다.
        *   각 사용자의 최근 10일간 커밋 기록을 GitHub API로 확인합니다.
        *   **커밋이 있고, 동물이 10마리 미만이면:** `animals` 폴더에 있는 동물 중, 해당 유저가 아직 갖지 않은 새로운 동물을 무작위로 추가합니다.
        *   **커밋이 없으면:** 동물 한 마리를 무작위로 제거할 수 있습니다. (정책 결정 필요)
        *   `db.json` 파일에 변경된 동물 목록과 `last_updated` 날짜를 저장합니다.

3.  **이미지 생성 로직 수정**
    *   `GET /image?username=...` 엔드포인트는 이제 `db.json`에서 해당 사용자의 동물 목록(`animals`)을 읽어옵니다.
    *   읽어온 모든 동물을 울타리 SVG 안의 각기 다른 위치에 예쁘게 배치하여 최종 이미지를 생성합니다.

### **Phase 4: 추가 기능 (고도화)**

> **목표:** 사용자가 직접 참여할 수 있는 재미있는 기능을 추가합니다.

1.  **AI 이미지 생성 기능**
    *   사용자가 키워드나 간단한 이미지를 업로드할 수 있는 별도의 웹 페이지를 만듭니다.
    *   백엔드에서 DALL-E, Stable Diffusion 같은 이미지 생성 AI API를 호출합니다.
    *   결과로 나온 이미지를 SVG로 변환하거나 배경을 제거한 뒤, 해당 유저의 '커스텀 동물'로 저장해줍니다.
    *   이 동물은 울타리에서 가장 특별한 위치에 보여줄 수 있습니다.
